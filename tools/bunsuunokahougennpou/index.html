<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Fraction Visualizer</title>
    <style>body{font-family:sans-serif;text-align:center;background:#f4f7f9;margin:0;padding:10px}.c{max-width:1000px;margin:auto}h3{font-size:16px;margin:10px 0;color:#555}.p{background:#fff;padding:8px 15px;border-radius:8px;margin-bottom:10px;display:inline-flex;justify-content:center;align-items:center;gap:8px;box-shadow:0 2px 6px rgba(0,0,0,0.08)}.g{text-align:center;display:flex;flex-direction:column;align-items:center}.g input{width:35px;text-align:center;font-size:16px;font-weight:bold;color:#333;border:1px solid #ccc;border-radius:4px;padding:2px;-moz-appearance:textfield}.g input::-webkit-outer-spin-button,.g input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.l{width:100%;height:2px;background:#555;margin:2px auto}.o{font-size:16px;padding:0 4px;border-radius:4px;border:1px solid #ccc;cursor:pointer;height:26px}.b{padding:4px 12px;cursor:pointer;background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);color:#fff;border:none;border-radius:20px;font-size:13px;font-weight:bold;box-shadow:0 2px 5px rgba(79,172,254,0.3);margin-left:5px}.b:hover{opacity:0.9}canvas{background:transparent;max-width:100%;display:block;margin:auto}</style>
</head>
<body>
<div class="c">
    <h3 id="t1"></h3>
    <div class="p">
        <div class="g"><input type="number" id="n1" value="2"><div class="l"></div><input type="number" id="d1" value="3"></div>
        <select id="op" class="o"><option value="+">+</option><option value="-">-</option></select>
        <div class="g"><input type="number" id="n2" value="2"><div class="l"></div><input type="number" id="d2" value="3"></div>
        <button class="b" id="bt" onclick="window._0x5f2b()"></button>
    </div>
    <canvas id="cv" width="1000" height="800"></canvas>
</div>
<script>
(function(_0x1,_0x2){const _0x3=['\x74\x65\x78\x74\x43\x6f\x6e\x74\x65\x6e\x74','\x67\x65\x74\x45\x6c\x65\x6d\x65\x6e\x74\x42\x79\x49\x64','\u5206\u6570\u53ef\u8996\u5316\u30c4\u30fc\u30eb','\u8a08\u7b97','\x63\x76','\x32\x64','\x6e\x31','\x64\x31','\x6e\x32','\x64\x32','\x6f\x70','\x76\x61\x6c\x75\x65'];const _0x4=function(_0x5,_0x6){return _0x3[_0x5];};(function(){const _0x7=document;const _0x8=Math;_0x7[_0x4(1)]('t1')[_0x4(0)]=_0x4(2);_0x7[_0x4(1)]('bt')[_0x4(0)]=_0x4(3);const _0x9=_0x7[_0x4(1)](_0x4(4));const _0xa=_0x9.getContext(_0x4(5));const _0xb=50,_0xc=110,_0xd=90,_0xe=160,_0xf=120,_0x10=100;const _0x11={b:{f:'#4facfe',s:'#00f2fe'},g:{f:'#43e97b',s:'#38f9d7'},t:'#333',s:'#888',a:'#ccc'};const _0x12=(a,b)=>b===0?a:_0x12(b,a%b);const _0x13=(x,y,t,f,c,b='middle')=>{_0xa.fillStyle=c;_0xa.font=f;_0xa.textAlign='center';_0xa.textBaseline=b;_0xa.fillText(t,x,y);};const _0x14=(x,y,n,d,l)=>{_0x13(x,y-65,l,'16px sans-serif',_0x11.s);_0x13(x,y-15,n,'bold 28px sans-serif',_0x11.t);_0xa.fillRect(x-30,y-5,60,4);_0x13(x,y+35,d,'bold 28px sans-serif',_0x11.t);};const _0x15=(x,by,n,d,f,s)=>{let cn=_0x8.max(1,_0x8.ceil(n/d));for(let i=0;i<cn;i++){let y=by-_0xb-(i*_0xc);_0xa.beginPath();_0xa.arc(x,y,_0xb,0,_0x8.PI*2);_0xa.fillStyle='#fff';_0xa.fill();for(let j=0;j<d;j++){if(i*d+j<n){let sA=(_0x8.PI*2/d)*j-_0x8.PI/2,eA=(_0x8.PI*2/d)*(j+1)-_0x8.PI/2;_0xa.beginPath();_0xa.moveTo(x,y);_0xa.arc(x,y,_0xb,sA,eA);_0xa.fillStyle=f;_0xa.globalAlpha=0.8;_0xa.fill();_0xa.strokeStyle='#fff';_0xa.lineWidth=2;_0xa.stroke();}}_0xa.globalAlpha=1;_0xa.beginPath();_0xa.arc(x,y,_0xb,0,_0x8.PI*2);_0xa.strokeStyle=s;_0xa.lineWidth=3;_0xa.stroke();}};const _0x16=(x,by,n1,n2,d,op)=>{const h=by-_0xd,tN=(op==="+")?n1+n2:n1,fN=(op==="+")?n1+n2:n1-n2;let cn=_0x8.max(1,_0x8.ceil(tN/d));for(let i=0;i<cn;i++){let y=h-_0xb-(i*_0xc);_0xa.beginPath();_0xa.arc(x,y,_0xb,0,_0x8.PI*2);_0xa.fillStyle='#fff';_0xa.fill();for(let j=0;j<d;j++){let u=i*d+j;if(u>=tN)continue;let sA=(_0x8.PI*2/d)*j-_0x8.PI/2,eA=(_0x8.PI*2/d)*(j+1)-_0x8.PI/2;_0xa.save();if(op==="+"){_0xa.fillStyle=(u<n1)?_0x11.b.f:_0x11.g.f;_0xa.globalAlpha=0.8;}else{if(u<fN){_0xa.fillStyle=_0x11.b.f;_0xa.globalAlpha=0.8;}else{_0xa.fillStyle=_0x11.g.f;_0xa.setLineDash([4,4]);_0xa.globalAlpha=0.2;}}_0xa.beginPath();_0xa.moveTo(x,y);_0xa.arc(x,y,_0xb,sA,eA);_0xa.fill();_0xa.strokeStyle='#fff';_0xa.lineWidth=2;_0xa.stroke();_0xa.restore();}_0xa.beginPath();_0xa.arc(x,y,_0xb,0,_0x8.PI*2);_0xa.strokeStyle='#333';_0xa.lineWidth=2;_0xa.stroke();}_0x14(x,by,fN,d,'\u7b54\u3048');};window._0x5f2b=function(){const _0x17=parseInt(_0x7[_0x4(1)](_0x4(6))[_0x4(11)]),_0x18=parseInt(_0x7[_0x4(1)](_0x4(7))[_0x4(11)]),_0x19=parseInt(_0x7[_0x4(1)](_0x4(8))[_0x4(11)]),_0x1a=parseInt(_0x7[_0x4(1)](_0x4(9))[_0x4(11)]),_0x1b=_0x7[_0x4(1)](_0x4(10))[_0x4(11)];if(_0x18<=0||_0x1a<=0)return;const _0x1c=(_0x18===_0x1a)?_0x18:(_0x18*_0x1a)/_0x12(_0x18,_0x1a);const _0x1d=_0x17*(_0x1c/_0x18),_0x1e=_0x19*(_0x1c/_0x1a);const _0x1f=(_0x1b==="+")?_0x1d+_0x1e:_0x1d-_0x1e;const _0x20=(_0x18!==_0x1a);const _0x21=_0x20?_0x8.max(_0x8.ceil(_0x17/_0x18),_0x8.ceil(_0x19/_0x1a)):_0x8.max(_0x8.ceil(_0x17/_0x18),_0x8.ceil(_0x19/_0x1a),_0x8.ceil(_0x8.abs(_0x1f)/_0x1c));const _0x22=_0x20?_0x8.max(_0x8.ceil(_0x1d/_0x1c),_0x8.ceil(_0x1e/_0x1c),_0x8.ceil(_0x8.abs(_0x1f)/_0x1c)):0;_0x9.height=_0xf+(_0x21*_0x10)+_0xd+(_0x20?_0xe+(_0x22*_0x10)+_0xd:0)+_0x10;_0xa.clearRect(0,0,_0x9.width,_0x9.height);const _0x23=200,_0x24=500,_0x25=800;let _0x26=_0xf+_0x21*_0x10;_0x15(_0x23,_0x26-_0xd,_0x17,_0x18,_0x11.b.f,_0x11.b.s);_0x14(_0x23,_0x26,_0x17,_0x18,'\u5206\u6570\u0031');_0x13((_0x23+_0x24)/2,_0x26-_0xd-_0xc/2,_0x1b,'bold 50px sans-serif',_0x11.t);_0x15(_0x24,_0x26-_0xd,_0x19,_0x1a,_0x11.g.f,_0x11.g.s);_0x14(_0x24,_0x26,_0x19,_0x1a,'\u5206\u6570\u0032');if(!_0x20){_0x13((_0x24+_0x25)/2,_0x26-_0xd-_0xc/2,'=','bold 50px sans-serif',_0x11.t);_0x16(_0x25,_0x26,_0x1d,_0x1e,_0x1c,_0x1b);}else{const _0x27=(x,y)=>{_0xa.beginPath();_0xa.moveTo(x,y);_0xa.lineTo(x,y+40);_0xa.lineTo(x-10,y+30);_0xa.moveTo(x,y+40);_0xa.lineTo(x+10,y+30);_0xa.strokeStyle=_0x11.a;_0xa.lineWidth=3;_0xa.stroke();};_0x27(_0x23,_0x26-_0x22*_0x10-_0xe-_0xd/2);_0x27(_0x24,_0x26-_0x22*_0x10-_0xe-_0xd/2);_0x26+=_0xd+_0xe+_0x22*_0x10;_0x15(_0x23,_0x26-_0xd,_0x1d,_0x1c,_0x11.b.f,_0x11.b.s);_0x14(_0x23,_0x26,_0x1d,_0x1c,'\u901a\u5206');_0x13((_0x23+_0x24)/2,_0x26-_0xd-_0xc/2,_0x1b,'bold 50px sans-serif',_0x11.s);_0x15(_0x24,_0x26-_0xd,_0x1e,_0x1c,_0x11.g.f,_0x11.g.s);_0x14(_0x24,_0x26,_0x1e,_0x1c,'\u901a\u5206');_0x13((_0x24+_0x25)/2,_0x26-_0xd-_0xc/2,'=','bold 50px sans-serif',_0x11.t);_0x16(_0x25,_0x26,_0x1d,_0x1e,_0x1c,_0x1b);}};window._0x5f2b();})();}());
</script>
</body>
</html>
