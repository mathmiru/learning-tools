<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Division Comparison</title>
<style>
:root{--p:#38bdf8;--bg:#f8fafc;--c:#fff;--t:#334155;--r-bg:#fff1f2;--r-b:#fb7185}
body{font-family:"Rounded Mplus 1c",sans-serif;background:var(--bg);color:var(--t);padding:10px;margin:0;line-height:1.6}
.ct{max-width:800px;margin:0 auto}
header{text-align:center;margin:10px 0}
.cd{background:var(--c);border-radius:20px;padding:20px;box-shadow:0 4px 10px rgba(0,0,0,.05);margin-bottom:20px}
.ig{display:flex;justify-content:center;gap:15px;align-items:center;margin-bottom:20px}
.ii{text-align:center}
.lt{display:block;font-size:14px;font-weight:700;color:#64748b;margin-bottom:5px}
input{font-size:20px;width:70px;text-align:center;border:3px solid #e2e8f0;border-radius:12px;padding:8px}
.br{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
button{padding:12px;font-size:15px;font-weight:700;border-radius:12px;border:none;cursor:pointer;transition:0.2s;flex:1;min-width:150px}
.ba{background:#bae6fd;color:#0369a1}.bb{background:#fef08a;color:#854d0e}
button:hover{filter:brightness(.95);transform:scale(1.02)}
.st{font-size:16px;border-left:6px solid var(--p);padding:5px 12px;margin:20px 0 10px;background:#f1f5f9;font-weight:700}
.cc{display:flex;flex-wrap:wrap;gap:6px;min-height:40px}
.ci{width:38px;height:38px;border-radius:50%;background:#e0f2fe;display:flex;justify-content:center;align-items:center;font-size:15px;font-weight:700;border:3px solid #60a5fa;animation:pop .3s forwards}
.ci.rem{background:var(--r-bg);border-color:var(--r-b)}
.gb{border:3px dashed #94a3b8;border-radius:16px;padding:10px;margin:5px;display:inline-flex;flex-wrap:wrap;gap:6px;background:#fff;min-width:50px;min-height:50px;vertical-align:top}
.gb strong{display:block;width:100%;font-size:11px;color:#94a3b8;margin-bottom:2px}
.b-a{border-color:#7dd3fc;background:#f0f9ff}.b-b{border-color:#fde047;background:#fefce8}.b-r{border-color:var(--r-b);background:#fff1f2}
@keyframes pop{0%{transform:scale(0)}100%{transform:scale(1)}}
</style>
</head>
<body>
<div class="ct">
    <header><h2 id="x_h2"></h2></header>
    <div class="cd">
        <div class="ig">
            <div class="ii"><span class="lt" id="x_l1"></span><input id="v_d" type="number" value="12"></div>
            <div style="font-size:24px;font-weight:700">รท</div>
            <div class="ii"><span class="lt" id="x_l2"></span><input id="v_s" type="number" value="3"></div>
        </div>
        <div class="br">
            <button onclick="window._sA()" class="ba" id="x_ba"></button>
            <button onclick="window._sB()" class="bb" id="x_bb"></button>
        </div>
    </div>
    <div class="cd" id="arA" style="display:none"><div class="st" id="x_s2"></div><div id="g_A" class="cc"></div></div>
    <div class="cd" id="arB" style="display:none"><div class="st" id="x_s3"></div><div id="g_B" class="cc"></div></div>
</div>

<script>
(function(){
    const _d=document,_w=window,_ge='getElementById',_tc='textContent',_ih='innerHTML';
    const _u={
        h2:'\u308f\u308a\u3056\u3093\u3092\u0020\u304f\u3089\u3079\u3066\u307f\u3088\u3046',
        l1:'\u305c\u3093\u3076',l2:'\u308f\u308b\u6570',
        ba:'A\uff1a\u304a\u306a\u3058\u6570\u305a\u3064\uff08\u307b\u3046\u304c\u3093\uff09',
        bb:'B\uff1a\u3058\u3085\u3093\u3070\u3093\u306b\uff08\u3068\u3046\u3076\u3093\uff09',
        s2:'\u2460 A\uff1a\u304a\u306a\u3058\u6570\u305a\u3064\u308f\u3051\u308b',
        s3:'\u2461 B\uff1a\u3058\u3085\u3093\u3070\u3093\u306b\u304f\u3070\u308b',
        rem:'\u3042\u307e\u308a',tme:'\u3064\u3081',bme:'\u3070\u3093\u3081'
    };
    _d[_ge]('x_h2')[_tc]=_u.h2; _d[_ge]('x_l1')[_tc]=_u.l1; _d[_ge]('x_l2')[_tc]=_u.l2;
    _d[_ge]('x_ba')[_tc]=_u.ba; _d[_ge]('x_bb')[_tc]=_u.bb;
    _d[_ge]('x_s2')[_tc]=_u.s2; _d[_ge]('x_s3')[_tc]=_u.s3;
    function _sc(e){if(e)e.scrollIntoView({behavior:'smooth',block:'center'})}
    _w._sA=function(){
        const vD=Math.min(Number(_d[_ge]('v_d').value),100),vS=Number(_d[_ge]('v_s').value);
        if(vD<1||vS<1)return;const areaA=_d[_ge]('arA');areaA.style.display='block';
        const area=_d[_ge]('g_A');area[_ih]='';let idx=1;
        const _nextBox=()=>{
            if(idx>vD)return;const isR=(idx>Math.floor(vD/vS)*vS);const box=_d.createElement('div');
            box.className=isR?'gb b-r':'gb b-a';box.innerHTML=`<strong>${isR?_u.rem:(area.children.length+1+_u.tme)}</strong>`;
            area.appendChild(box);_sc(box);let count=0;
            const _addBall=()=>{
                if(count<vS&&idx<=vD){const c=_d.createElement('div');c.className='ci'+(isR?' rem':'');c[_tc]=idx;
                box.appendChild(c);idx++;count++;setTimeout(_addBall,400)}else{setTimeout(_nextBox,800)}
            };_addBall()
        };_nextBox()
    };
    _w._sB=function(){
        const vD=Math.min(Number(_d[_ge]('v_d').value),100),vS=Number(_d[_ge]('v_s').value);
        if(vD<1||vS<1)return;const areaB=_d[_ge]('arB');areaB.style.display='block';
        const area=_d[_ge]('g_B');area[_ih]='';const bks=[];
        for(let i=0;i<vS;i++){const b=_d.createElement('div');b.className='gb b-b';b.innerHTML=`<strong>${i+1+_u.bme}</strong>`;area.appendChild(b);bks.push(b)}
        const rb=_d.createElement('div');rb.className='gb b-r';rb.innerHTML=`<strong>${_u.rem}</strong>`;area.appendChild(rb);
        let cur=1,lim=Math.floor(vD/vS)*vS;
        const _step=()=>{
            if(cur>vD)return;const c=_d.createElement('div');c.className='ci';c[_tc]=cur;
            let target=(cur>lim)?rb:bks[(cur-1)%vS];if(cur>lim)c.classList.add('rem');
            target.appendChild(c);_sc(target);cur++;setTimeout(_step,500)
        };_step()
    }
})();
</script>
</body>
</html>
