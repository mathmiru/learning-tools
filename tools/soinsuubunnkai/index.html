<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ã‚ã‚Šç®—ã‚¯ã‚¨ã‚¹ãƒˆï¼</title>
    <style>
        body {
            font-family: "Meryro", "Hiragino Kaku Gothic ProN", sans-serif;
            background-color: #1a1a2e;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            touch-action: manipulation
        }

        /* --- ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ --- */
        #_0x1 { text-align: center; margin-top: 50px; }
        .c_b { display: block; width: 280px; padding: 15px; margin: 10px; font-size: 18px; font-weight: bold; border-radius: 10px; cursor: pointer; border: none; color: white; box-shadow: 0 5px 0 rgba(0,0,0,0.3) }
        .c1 { background: #4caf50 } .c2 { background: #2196f3 } .c3 { background: #9c27b0 }

        /* --- ã‚²ãƒ¼ãƒ ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ --- */
        #_0x2 { display: none; width: 95%; max-width: 450px; text-align: center; }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã‚’æ•´ç† */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
            gap: 10px;
        }
        #_0x3 { background: #ffeb3b; color: #333; padding: 8px; border-radius: 5px; font-size: 12px; font-weight: bold; flex: 1; line-height: 1.4; }
        .exit_b {
            background: #e91e63;
            color: white;
            border: none;
            padding: 8px 12px;
            font-size: 12px;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 3px 0 #880e4f;
            white-space: nowrap;
        }

        #_0x4 { width: 100%; height: 18px; background: #444; border-radius: 10px; margin-bottom: 5px; overflow: hidden; border: 2px solid #fff }
        #_0x5 { width: 0%; height: 100%; background: linear-gradient(90deg, #4fc3f7, #00e5ff); transition: width 0.3s ease }
        #_0x6 { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 8px; color: #4fc3f7; font-size: 13px }
        
        #_0x7 { height: 150px; display: flex; flex-direction: column; align-items: center; justify-content: center }
        #_0x8 { font-size: 65px; transition: 0.3s }
        #_0x9 { font-size: 55px; font-weight: 900; margin-top: -10px; color: #fff; text-shadow: 0 0 10px #000 }
        
        #_0xa { background: rgba(255,255,255,0.1); border: 1px dashed #4fc3f7; padding: 8px; border-radius: 8px; margin-bottom: 10px; font-size: 18px; color: #ffeb3b; height: 30px; line-height: 30px; font-weight: bold; overflow: hidden; }
        #_0xb { height: 35px; display: flex; justify-content: center; gap: 5px; margin-bottom: 10px }
        .g_m { background: #ffd700; color: #333; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: bold; border: 2px solid white; animation: p_p 0.3s forwards }
        #_0xc { background: #fff; color: #333; padding: 10px; border-radius: 8px; margin-bottom: 15px; font-weight: bold; height: 24px; line-height: 24px; }

        .btn-container { height: 170px; position: relative; width: 100%; }
        #_0xd { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; position: absolute; width: 100%; top: 0; }
        .w_b { background: #3f51b5; color: white; border: none; padding: 12px 0; font-size: 20px; font-weight: bold; border-radius: 8px; cursor: pointer; box-shadow: 0 4px 0 #1a237e }
        
        #_0xe { background: #ff9800; color: white; padding: 20px; border: none; border-radius: 50px; font-size: 22px; font-weight: bold; display: none; width: 100%; cursor: pointer; position: absolute; top: 10px; left: 0; right: 0; box-shadow: 0 5px 0 #e65100; }

        /* --- ãƒ€ã‚¤ã‚¢ãƒ­ã‚°å…±é€š --- */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 1000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        .modal-box {
            background: #2a2a40;
            border: 3px solid #ffeb3b;
            padding: 25px;
            border-radius: 15px;
            width: 80%;
            max-width: 320px;
        }
        .modal-btns { display: flex; gap: 10px; justify-content: center; margin-top: 20px; }
        .m_btn { padding: 10px 20px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; min-width: 80px; }
        .m_yes { background: #e91e63; color: white; }
        .m_no { background: #777; color: white; }

        @keyframes p_p { from { transform: scale(0) } to { transform: scale(1) } }
        .tap_next { font-size: 14px; color: #aaa; margin-top: 40px; animation: blink 1s infinite }
        @keyframes blink { 0%, 100% { opacity: 1 } 50% { opacity: 0.3 } }
    </style>
</head>
<body>
    <div id="_0x1">
        <h1 style="color:#ffeb3b">ã‚ã‚Šç®—ã‚¯ã‚¨ã‚¹ãƒˆï¼</h1>
        <p>ã‚³ãƒ¼ã‚¹ã‚’ãˆã‚‰ã‚“ã§ã­</p>
        <button class="c_b c1" onclick="_0x_f(1)">ãƒ¬ãƒ™ãƒ«1ï¼ˆ2, 3, 5, 7ï¼‰</button>
        <button class="c_b c2" onclick="_0x_f(2)">ãƒ¬ãƒ™ãƒ«2ï¼ˆ+ 11, 13ï¼‰</button>
        <button class="c_b c3" onclick="_0x_f(3)">ãƒ¬ãƒ™ãƒ«3ï¼ˆ+ 17, 19ï¼‰</button>
    </div>

    <div id="_0x2">
        <div class="game-header">
            <div id="_0x3">ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚’ã‚ã‚Šãã‚Œã‚‹æ•°å­—ã§ã“ã†ã’ãã—ã‚ˆã†ï¼</div>
            <button class="exit_b" onclick="_0x_open_exit()">ã‚¿ã‚¤ãƒˆãƒ«ã¸</button>
        </div>
        
        <div id="_0x6">
            <div>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼Lv: <span id="_0x10">1</span></div>
            <div>ã¤ãã®Lvã¾ã§: <span id="_0x11">0 / 15</span></div>
        </div>
        <div id="_0x4"><div id="_0x5"></div></div>
        
        <div id="_0x7"><div id="_0x8">ğŸ‘¾</div><div id="_0x9">?</div></div>
        <div id="_0xa">ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãŒã‚ã‚‰ã‚ã‚ŒãŸï¼</div>
        <div id="_0xb"></div>
        <div id="_0xc">ã©ã®æ•°å­—ã§ã“ã†ã’ãã™ã‚‹ï¼Ÿ</div>
        
        <div class="btn-container">
            <div id="_0xd"></div>
            <button id="_0xe" onclick="_0x_next()">ã¤ãã®æ•µã‚’ã•ãŒã™</button>
        </div>
    </div>

    <div id="exit_modal" class="modal-overlay">
        <div class="modal-box">
            <h3 style="color:#ffeb3b;margin-top:0">ç¢ºèª</h3>
            <p>ã‚¿ã‚¤ãƒˆãƒ«ã«ã‚‚ã©ã‚Šã¾ã™ã‹ï¼Ÿ<br><small>ï¼ˆãƒ¬ãƒ™ãƒ«ã¯ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ï¼‰</small></p>
            <div class="modal-btns">
                <button class="m_btn m_yes" onclick="location.reload()">ã¯ã„</button>
                <button class="m_btn m_no" onclick="_0x_close_exit()">ã„ã„ãˆ</button>
            </div>
        </div>
    </div>

    <div id="_0x_lu" class="modal-overlay" onclick="this.style.display='none'">
        <h2 id="_0x_lu_h" style="font-size:48px;color:#ffeb3b;text-shadow:0 0 20px #ff9800;">LEVEL UP!</h2>
        <p id="_0x_lu_t" style="font-size:20px;"></p>
        <div class="tap_next">ç”»é¢ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã¤ãã¸</div>
    </div>

<script>
(function(){
    const _0xS = [
        'getElementById', 'style', 'display', 'none', 'block', 'createElement', 'textContent', 
        'appendChild', 'innerHTML', 'width', 'floor', 'random', 'transform', 'opacity', 
        'å‘½ä¸­ï¼å¼±ç‚¹ã‚’ã¤ã„ãŸãï¼', 'ãƒŸã‚¹ï¼çµŒé¨“å€¤ãŒã¸ã£ã¦ã—ã¾ã£ãŸï¼', 'ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚’ãŸãŠã—ãŸï¼', 
        'LEVEL UP!', 'LEVEL DOWN...', 'ãƒãƒˆãƒ«é–‹å§‹ï¼', 'ã©ã®æ•°å­—ã§ã“ã†ã’ãã™ã‚‹ï¼Ÿ'
    ];
    const _0xK = (i) => _0xS[i];
    let _lv = 1, _plv = 1, _xp = 0, _tgt = 0, _prms = [];
    const _db = {1:[2,3,5,7], 2:[2,3,5,7,11,13], 3:[2,3,5,7,11,13,17,19]};

    // ãƒ€ã‚¤ã‚¢ãƒ­ã‚°æ“ä½œ
    window._0x_open_exit = () => { document.getElementById('exit_modal').style.display = 'flex'; };
    window._0x_close_exit = () => { document.getElementById('exit_modal').style.display = 'none'; };

    window._0x_f = function(n) {
        _lv = n; _prms = _db[n];
        _g(_0xK(0))('_0x1')[_0xK(1)][_0xK(2)] = _0xK(3);
        _g(_0xK(0))('_0x2')[_0xK(1)][_0xK(2)] = _0xK(4);
        const btns = _g(_0xK(0))('_0xd');
        btns.innerHTML = '';
        btns[_0xK(1)].gridTemplateColumns = (n===1) ? "repeat(2,1fr)" : "repeat(4,1fr)";
        _prms.forEach(p => {
            const b = _g(_0xK(5))('button'); b.className = 'w_b'; b.textContent = p;
            b.onclick = () => _0x_hit(p); btns[_0xK(7)](b);
        });
        _0x_u(); _0x_next();
    };

    function _g(m){ return document[m].bind(document); }

    function _0x_u() {
        const mx = (_plv===1)?15:(_plv===2)?20:25;
        const pct = (Math.max(0,_xp)/mx)*100;
        _g(_0xK(0))('_0x5')[_0xK(1)][_0xK(9)] = pct + "%";
        _g(_0xK(0))('_0x11')[_0xK(6)] = Math[_0xK(10)](_xp) + " / " + mx;
        _g(_0xK(0))('_0x10')[_0xK(6)] = _plv;
    }

    window._0x_next = function() {
        _g(_0xK(0))('_0xe')[_0xK(1)][_0xK(2)] = _0xK(3);
        _g(_0xK(0))('_0xd')[_0xK(1)][_0xK(2)] = 'grid';
        _g(_0xK(0))('_0xb')[_0xK(8)] = '';
        _g(_0xK(0))('_0xa')[_0xK(6)] = _0xK(19);
        _g(_0xK(0))('_0xc')[_0xK(6)] = _0xK(20);
        const mon = _g(_0xK(0))('_0x8');
        mon[_0xK(1)][_0xK(12)] = 'scale(1)'; mon[_0xK(1)][_0xK(13)] = '1';
        const emj = ['ğŸ‘¾','ğŸ‘»','ğŸ¦‡','ğŸ•·ï¸','ğŸ¦‚','ğŸ‰','ğŸ‘¹','ğŸ¦–','ğŸ¤–','ğŸ’€','ğŸ‘º','ğŸ›¸','ğŸ¤¡','ğŸ¦'];
        mon[_0xK(6)] = emj[Math[_0xK(10)](Math[_0xK(11)]()*emj.length)];
        let val = 1; let loop = _plv + 1;
        for(let i=0; i<loop; i++) {
            let p = _prms[Math[_0xK(10)](Math[_0xK(11)]()*_prms.length)];
            if(_plv===1 && val*p > 60) continue;
            if(val*p < 4000) val *= p;
        }
        if(val < 4) val *= _prms[0] * _prms[1];
        _tgt = val;
        _g(_0xK(0))('_0x9')[_0xK(6)] = _tgt;
    };

    function _0x_hit(p) {
        const msg = _g(_0xK(0))('_0xc'), log = _g(_0xK(0))('_0xa'), num = _g(_0xK(0))('_0x9');
        if(_tgt % p === 0) {
            const res = _tgt / p;
            log[_0xK(6)] = _tgt + " Ã· " + p + " = " + res;
            _tgt = res; num[_0xK(6)] = _tgt;
            const m = _g(_0xK(5))('div'); m.className = 'g_m'; m.textContent = p;
            _g(_0xK(0))('_0xb')[_0xK(7)](m);
            msg[_0xK(6)] = _0xK(14);
            if(_tgt === 1) _0x_win();
        } else {
            log[_0xK(6)] = _tgt + " ã¯ " + p + " ã§ã‚ã‚Œãªã„ï¼";
            msg[_0xK(6)] = _0xK(15);
            _xp -= 0.5;
            if(_xp < 0 && _plv > 1) {
                _plv--; _xp = (_plv===1)?14:(_plv===2)?19:24;
                _0x_pop(_0xK(18), "ãƒ¬ãƒ™ãƒ«ãŒä¸‹ãŒã£ã¦ã—ã¾ã£ãŸ...");
            }
            _0x_u();
        }
    }

    function _0x_win() {
        _g(_0xK(0))('_0xc')[_0xK(6)] = _0xK(16);
        const mon = _g(_0xK(0))('_0x8');
        mon[_0xK(1)][_0xK(12)] = 'scale(0)'; mon[_0xK(1)][_0xK(13)] = '0';
        _g(_0xK(0))('_0xe')[_0xK(1)][_0xK(2)] = _0xK(4);
        _g(_0xK(0))('_0xd')[_0xK(1)][_0xK(2)] = _0xK(3);
        _xp++;
        const mx = (_plv===1)?15:(_plv===2)?20:25;
        if(_xp >= mx) {
            _plv++; _xp = 0;
            _0x_pop(_0xK(17), "ãƒ¬ãƒ™ãƒ«ãŒ "+_plv+" ã«ãªã£ãŸï¼");
        }
        _0x_u();
    }

    function _0x_pop(h, t) {
        _g(_0xK(0))('_0x_lu_h')[_0xK(6)] = h;
        _g(_0xK(0))('_0x_lu_t')[_0xK(8)] = t;
        _g(_0xK(0))('_0x_lu')[_0xK(1)][_0xK(2)] = 'flex';
    }
})();
</script>
</body>
</html>
