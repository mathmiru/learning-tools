<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Clock</title>
    <script src="https://cdn.jsdelivr.net/gh/phi-jp/phina.js@v0.2.3/build/phina.js"></script>
    <style>body{margin:0;background:#fff;overflow:hidden;display:flex;justify-content:center;align-items:center;height:100vh}canvas{max-width:100%;max-height:100%;object-fit:contain}</style>
</head>
<body>
<script>
phina.globalize();const W=640,H=960;phina.define('MainScene',{superClass:'DisplayScene',init:function(){const t=this;t.superInit({width:W,height:H});t.backgroundColor='#ffffff';const e=t.g1=DisplayElement().addChildTo(t).setPosition(320,300),i=t.g2=DisplayElement().addChildTo(t).setPosition(320,730);CircleShape({radius:265,fill:'#fcfcfc',stroke:'#2ecc71',strokeWidth:10}).addChildTo(e);for(let r=0;r<60;r++){let n=r*6,o=r%5===0,s=o?25:12,a=o?6:3,l=RectangleShape({width:a,height:s,fill:'#333',strokeWidth:0}).addChildTo(e),h=Math.degToRad(n);l.x=Math.sin(h)*(240-s/2);l.y=-Math.cos(h)*(240-s/2);l.rotation=n}t.hg=DisplayElement().addChildTo(e);for(let r=1;r<=12;r++){let n=r*30,o=Math.degToRad(n);Label({text:(r*5).toString(),fontSize:28,fill:'#e67e22',fontWeight:'bold',x:Math.sin(o)*285,y:-Math.cos(o)*285}).addChildTo(t.hg)}t.hg.visible=!1;for(let r=1;r<=12;r++){let n=r*30,o=Math.degToRad(n);Label({text:r.toString(),fontSize:55,fill:'#2c3e50',fontWeight:'bold',x:Math.sin(o)*190,y:-Math.cos(o)*190}).addChildTo(e)}t.dd=DisplayElement().addChildTo(e).setPosition(0,100);RectangleShape({width:220,height:80,fill:'rgba(255,255,255,0.7)',stroke:'#bdc3c7',strokeWidth:2,cornerRadius:10}).addChildTo(t.dd);t.dl=Label({text:'12:00',fontSize:60,fill:'#2c3e50',fontWeight:'bold'}).addChildTo(t.dd);t.dd.visible=!1;t.hh=RectangleShape({width:18,height:160,fill:'#3498db',cornerRadius:9,stroke:'white',strokeWidth:2}).addChildTo(e).setOrigin(.5,.85);t.mh=RectangleShape({width:12,height:240,fill:'#e74c3c',cornerRadius:6,stroke:'white',strokeWidth:2}).addChildTo(e).setOrigin(.5,.9);CircleShape({radius:14,fill:'#2c3e50'}).addChildTo(e);t.u();t.r()},u:function(){const t=this,e={fontSize:22,cornerRadius:10,stroke:'#555',strokeWidth:3,fontColor:'#000'};[{l:'\u002b\u0031\u3058\u304b\u3093',v:60,x:-200,y:-80,c:'#ffadad'},{l:'\u002b\u0031\u0030\u3075\u3093',v:10,x:0,y:-80,c:'#ffd6a5'},{l:'\u002b\u0031\u3075\u3093',v:1,x:200,y:-80,c:'#caffbf'},{l:'\u2212\u0031\u3058\u304b\u3093',v:-60,x:-200,y:15,c:'#a0c4ff'},{l:'\u2212\u0031\u0030\u3075\u3093',v:-10,x:0,y:15,c:'#ffd6a5'},{l:'\u2212\u0031\u3075\u3093',v:-1,x:200,y:15,c:'#caffbf'}].forEach(r=>{Button({text:r.l,fill:r.c,width:160,height:85,...e}).addChildTo(t.g2).setPosition(r.x,r.y).on('push',()=>t.a(r.v))});Button({text:'\u30c7\u30b8\u30bf\u30eb',fill:'#ecf0f1',width:140,height:75,...e}).addChildTo(t.g2).setPosition(-240,125).on('push',()=>{t.dd.visible=!t.dd.visible});Button({text:'\u3044\u307e',fill:'#ecf0f1',width:100,height:75,...e}).addChildTo(t.g2).setPosition(-105,125).on('push',()=>t.t());Button({text:'\u30ea\u30bb\u30c3\u30c8',fill:'#95a5a6',width:130,height:75,...e,fontColor:'#fff'}).addChildTo(t.g2).setPosition(25,125).on('push',()=>t.r());t.hb=Button({text:'\u30d2\u30f3\u30c8:OFF',fill:'#f1c40f',width:160,height:75,...e}).addChildTo(t.g2).setPosition(185,125).on('push',()=>{t.hg.visible=!t.hg.visible;t.hb.text=t.hg.visible?"\u30d2\u30f3\u30c8:ON":"\u30d2\u30f3\u30c8:OFF"})},a:function(e){this.hh.rotation+=e*.5;this.mh.rotation+=e*6;this.d()},r:function(){this.mh.rotation=this.hh.rotation=0;this.d()},t:function(){const e=new Date(),i=e.getHours()%12,r=e.getMinutes();this.mh.rotation=r*6;this.hh.rotation=i*30+r*.5;this.d()},d:function(){let e=Math.round(this.mh.rotation%360/6);e<0&&(e+=60);e===60&&(e=0);let i=Math.floor(this.hh.rotation%360/30);i<0&&(i+=12);i===0&&(i=12);this.dl.text=i+":"+(e<10?"0"+e:e)}});phina.main(()=>GameApp({startLabel:'main',width:W,height:H}).run());
</script>
</body>
</html>
